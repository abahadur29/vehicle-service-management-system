<div class="auth-page">
  <div class="auth-container">
    <div class="brand-section">
      <mat-icon class="brand-icon">directions_car</mat-icon>
      <h1>Vehicle Service</h1>
      <p>Manage your vehicle services with ease and efficiency.</p>
    </div>

    <mat-card class="auth-card">
      <div class="card-header">
        <h2>Welcome Back</h2>
        <p>Please enter your details to sign in</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="submit()" class="auth-form">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <mat-icon matPrefix>email</mat-icon>
          <input matInput formControlName="email" autocomplete="email" placeholder="your@email.com" />
          @if (form.controls.email.touched && form.controls.email.invalid) {
            <mat-error>Enter a valid email address.</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <input matInput type="password" formControlName="password" autocomplete="current-password" placeholder="••••••••" />
          @if (form.controls.password.touched && form.controls.password.invalid) {
            <mat-error>Password is required.</mat-error>
          }
        </mat-form-field>

        <button mat-flat-button color="primary" type="submit" [disabled]="isSubmitting()" class="submit-btn">
          @if (isSubmitting()) {
            <span class="spinner-container">
              <mat-icon class="rotating">sync</mat-icon>
              Signing in...
            </span>
          } @else {
            Login
          }
        </button>

        @if (serverMessage()) {
          <div class="error-message">
            <mat-icon>error_outline</mat-icon>
            <span>{{ serverMessage() }}</span>
          </div>
        }

        <p class="switch">
          Don’t have an account?
          <a routerLink="/auth/register">Create an account</a>
        </p>
      </form>
    </mat-card>
  </div>
</div>
